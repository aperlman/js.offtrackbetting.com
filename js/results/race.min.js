const Race=n=>`<div id="race"><br/>${[...Array(n.events.length).keys()].map((t=>e(++t,n))).join("<br/>")}</div>`;const e=(n,e)=>t(n,e)+s(n,e)+("results"in e.events[n-1]?o(n,e):"")+d(n,e)+l(n,e)+(n==3?u(e):"")+(n==(e.events.length>6&&e.events.length-3)?m(e):"");const t=(n,e)=>{const t=new Date(parseInt(p(n,e).postTime.$numberDouble)*1e3).toLocaleDateString("en-US",{timeZone:"America/New_York"}).replace(/\//g,"-");return`<div id="raceTitle"><h3>Race ${n} <span>${e.ID} ${t}</span></h3></div>${h(n,e)?`<h4>Race Canceled</h4>`:""}`};const s=(n,e)=>`<div id="selection" class="${p(n,e).results?"results":"odds"} table-responsive"><table class="table table-striped table-condensed table-bordered"><thead><tr>${a(n,e)}</tr></thead><tbody>${r(n,e)}</tbody></table></div>`;const a=(n,e)=>{const t=p(n,e);if("results"in t){let n=["Win"];if(b(t,"placeAmount"))n.push("Place");if(b(t,"showAmount"))n.push("Show");const e=t.breed.toLowerCase()==="harness"?"Driver":"Jockey";const s=b(t,"jockey")?["Horse",e]:["Horse"];n.unshift(...t.breed.toLowerCase()==="dog"?["Greyhound"]:s);return`<th>#</th>`+n.map(((e,t)=>`<th${t<n.indexOf("Win")?' id="selectionText"':""}>${e}</th>`)).join("\n")}return`<th>#</th><th id="selectionText">${t.breed=="Dog"?"Greyhound":"Horse"}</th><th>M/L Odds</th>`};const r=(n,e)=>{const t=p(n,e);if("results"in t){return t.results.finisher.map(((n,e)=>`<tr><td class="postposition ${""}${(t.breed.toLowerCase()==="harness"?"hpp":"pp")+(isNaN(n.programNumber)?n.programNumber.replace(/\D/g,""):n.programNumber)}"><a>${n.programNumber}</a></td><td><strong>${n.runnerName}</strong></td>${b(t,"jockey")?"<td>"+(n.jockey||"")+"</td>":""}<td id="amt">${n.winAmount||""}</td>${b(t,"placeAmount")?'<td id="amt">'+(n.placeAmount||"")+"</td>":""}${b(t,"showAmount")?'<td id="amt">'+(n.showAmount||"")+"</td>":""}</tr>`)).join("\n")}return t.runners.map((n=>`<tr><td class="postposition ${""}${(t.breed.toLowerCase()==="harness"?"hpp":"pp")+(isNaN(n.number)?n.number.replace(/\D/g,""):n.number)}"><a>${n.number}</a></td><td><strong>${n.name}</strong></td><td>${n.morningOdds}</td></tr>`)).join("\n")};const o=(n,e)=>`<div id="dividends"><table class="table table-striped table-condensed table-bordered"><thead><tr>${["Bet Type","Runners","Pay Out"].map((n=>"<th>"+n+"</th>")).join("\n")}</tr></thead><tbody>${i(n,e)}</tbody></table></div>`;const i=(n,e)=>{const t=p(n,e);if(h(n,e))return"";dispAmt=n=>{const e=f(parseInt(n)/100);return e.endsWith(".00")?e.slice(0,-3):e};return t.results.dividends.map(((n,e)=>`<tr><td>${dispAmt(n.baseAmount?.$numberDouble||n.baseAmount?.$numberInt)}&nbsp;${g(n.betType)||n.betType}</td><td>${n.finishers}</td><td>${f(n.amount?.$numberDouble)}</td></tr>`)).join("\n")};const l=(n,e)=>{const t=p(n,e);return`<ul>${"results"in t&&t.results.scratches[0]?"<li><strong>Scratches:</strong>&nbsp;"+t.results.scratches.join(", ")+"</li>":""}\n${t.purse.$numberDouble&&t.purse.$numberDouble>0||t.distance?"<li>":""}${t.purse.$numberDouble&&t.purse.$numberDouble>0?"<strong>Purse:</strong> "+f(parseInt(t.purse.$numberDouble)/100).slice(0,-3):""}${t.distance?" <strong>Distance:</strong> "+t.distance.replace(/[Ff]$/," Furlongs"):""}${t.purse.$numberDouble&&t.purse.$numberDouble>0||t.distance?"</li>":""}\n${t.postTime.$numberDouble?"<li><strong>Scheduled Post:</strong> "+new Date(t.postTime.$numberDouble*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:true})+"</li>":""}\n${t.conditions&&typeof t.conditions==="string"?"<li><strong>Conditions:</strong> "+t.conditions+"</li>":""}\n${t.results?.alsoRan&&t.results.alsoRan.length?`<li><strong>${h(n,e)?"Scheduled Runners":"Also Ran"}:</strong>&nbsp;`+t.results.alsoRan.join(", ")+"</li>":""}\n</ul>`};const d=(n,e)=>`<div id="actionbox"><div class="row"><div class="col-md-8 text-left">${p(n,e).runners.length>0?`No results for ${e.ID} Race ${n} yet - place your bets!`:`Watch ${e.ID} Race ${n} Video Replay`}</div><div class="col-md-4">${c(p(n,e).runners.length>0?false:true)}</div></div></div>\n`;const c=n=>`<a href="/login.html" class="btn btn-blue text-right" role="button">${n?'<i class="fa fa-play-circle"></i> Watch Replay':"BET NOW"}</a>\n`;const u=n=>{const e=()=>{const n=$("#promoSignup #object");const t=$("#promoSignup .btn .fa-angle-right");const s=$("#promoSignup h2");n.css("visibility","visible");t.css("visibility","visible");const a={downArrow:{isOn:()=>n.attr("class")=="animated bounceInDown",turnOn:()=>n.addClass("animated bounceInDown"),turnOff:()=>n.removeClass("animated bounceInDown")},nextArrow:{isOn:()=>t.attr("class").includes("animated fadeInLeft"),turnOn:()=>t.addClass("animated fadeInLeft"),turnOff:()=>t.removeClass("animated fadeInLeft")},promoTitle:{isOn:()=>s.attr("class").includes("animated tada"),turnOn:()=>s.addClass("animated tada"),turnOff:()=>s.removeClass("animated tada")}};const r=n=>{if(n.isOn())n.turnOff();else n.turnOn()};Object.keys(a).forEach((n=>r(a[n])));setTimeout((()=>e()),4500)};setTimeout((()=>e()),1e3);return`<div id="promoSignup" class="calltoaction lazyloaded margin-bottom-25"><a href="/signup/"><span id="object"><i class="fa fa-arrow-circle-down"></i></span><h2 class="animated tada">Bet ${n.ID} Racing</h2><h3>US Legal Online Wagering</h3><span class="btn btn-join">100% FIRST DEPOSIT MATCH<i class="fa fa-angle-right animated fadeInLeft"></i></span></a></div>`};const m=n=>{const e=()=>{const n=$("#promoJoin #object1");const t=$("#promoJoin h2");$("#promoJoin #object1 .fa-play-circle").css("visibility","visible");const s={rightArrow:{isOn:()=>n.attr("class")=="animated fadeInLeft",turnOn:()=>n.addClass("animated fadeInLeft"),turnOff:()=>n.removeClass("animated fadeInLeft")},promoTitle:{isOn:()=>t.attr("class").includes("animated tada"),turnOn:()=>t.addClass("animated tada"),turnOff:()=>t.removeClass("animated tada")}};const a=n=>{if(n.isOn())n.turnOff();else n.turnOn()};Object.keys(s).forEach((n=>a(s[n])));setTimeout((()=>e()),4500)};setTimeout((()=>e()),5500);return`<div id="promoJoin" class="calltoaction lazyloaded margin-bottom-25"><a href="/signup/"><span id="object1"><i class="fa fa-play-circle"></i></span><h2 class="animated tada">Watch ${n.ID} Race Replays</h2><span class="btn btn-join">JOIN NOW</span></a></div>`};const b=(n,e)=>n.results.finisher.filter((n=>e in n&&n[e])).length;const p=(n,e)=>e.events[n-1];const h=(n,e)=>e.events[n-1].results?.dividends[0]?.finishers==="RF"?true:false;const f=n=>parseFloat(n).toLocaleString("en-US",{style:"currency",currency:"USD"});const g=n=>{const e={E5:"Pentafecta",EX:"Exacta",QU:"Quinella",QU3:"Trio",DD:"Daily Double",DB:"Daily Double",P3:"Pick 3",P4:"Pick 4",P5:"Pick 5",P6:"Pick 6",TR:"Trifecta",TS:"Tri-Super",TT:"Twin-Tri",SU:"Superfecta",SW:"Omni"};return e[n]};